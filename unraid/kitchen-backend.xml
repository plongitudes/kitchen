<?xml version="1.0"?>
<Container version="2">
  <Name>kitchen-backend</Name>
  <Repository>plongitudex/kitchen-backend:latest</Repository>
  <Registry>https://hub.docker.com/r/plongitudex/kitchen-backend</Registry>
  <Network>kitchen-network</Network>
  <MyIP/>
  <Shell>sh</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/plongitudes/kitchen/issues</Support>
  <Project>https://github.com/plongitudes/kitchen</Project>
  <Overview>Kitchen Backend API - FastAPI application for meal planning and recipe management.&#xD;
&#xD;
REQUIREMENTS:&#xD;
1. Create kitchen-network: docker network create kitchen-network&#xD;
2. Start kitchen-postgres container FIRST&#xD;
3. Configure all environment variables (especially JWT_SECRET_KEY and POSTGRES_PASSWORD)&#xD;
&#xD;
SECURITY NOTES:&#xD;
- Generate JWT_SECRET_KEY with: openssl rand -base64 64&#xD;
- Generate POSTGRES_PASSWORD with: openssl rand -base64 32&#xD;
- MUST match postgres password from kitchen-postgres container&#xD;
&#xD;
The backend runs database migrations automatically on startup.&#xD;
&#xD;
No web interface - this is an API service. Access at http://[IP]:[PORT]/docs for API documentation.</Overview>
  <Category>Tools: Status:Stable</Category>
  <Icon>https://raw.githubusercontent.com/plongitudes/kitchen/main/.github/kitchen-icon.png</Icon>
  <ExtraParams>--network=kitchen-network --health-cmd="python3 -c \"import urllib.request; urllib.request.urlopen('http://localhost:8000/health').read()\"" --health-interval=30s --health-timeout=10s --health-retries=3 --health-start-period=40s</ExtraParams>
  <PostArgs/>
  <CPUset/>
  <DateInstalled/>
  <DonateText/>
  <DonateLink/>
  <Requires>kitchen-postgres container must be running first!</Requires>
  <Config Name="Backend API Port" Target="8000" Default="8000" Mode="tcp" Description="Backend API port (FastAPI/Uvicorn)" Type="Port" Display="always" Required="true" Mask="false">8000</Config>
  <Config Name="Application Logs" Target="/app/logs" Default="/mnt/user/appdata/kitchen/logs" Mode="rw" Description="Application log files" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/kitchen/logs</Config>
  <Config Name="Database URL" Target="DATABASE_URL" Default="" Mode="" Description="PostgreSQL connection string - Format: postgresql+asyncpg://admin:[POSTGRES_PASSWORD]@kitchen-postgres:5432/roanes_kitchen" Type="Variable" Display="always" Required="true" Mask="true"></Config>
  <Config Name="JWT Secret Key" Target="JWT_SECRET_KEY" Default="" Mode="" Description="JWT signing key - Generate with: openssl rand -base64 64" Type="Variable" Display="always" Required="true" Mask="true"></Config>
  <Config Name="Environment" Target="ENVIRONMENT" Default="production" Mode="" Description="Environment mode (production or development)" Type="Variable" Display="always" Required="true" Mask="false">production</Config>
  <Config Name="Debug Mode" Target="DEBUG" Default="false" Mode="" Description="Debug mode - should be false in production" Type="Variable" Display="always" Required="true" Mask="false">false</Config>
  <Config Name="Frontend URL" Target="FRONTEND_URL" Default="http://localhost" Mode="" Description="Frontend URL for notification links (e.g., http://192.168.1.100 or http://yourdomain.com)" Type="Variable" Display="always" Required="false" Mask="false">http://localhost</Config>
  <Config Name="Discord Bot Token" Target="DISCORD_BOT_TOKEN" Default="" Mode="" Description="Discord bot token for notifications (optional - leave empty to disable)" Type="Variable" Display="always" Required="false" Mask="true"></Config>
  <Config Name="Discord Notification Channel ID" Target="DISCORD_NOTIFICATION_CHANNEL_ID" Default="" Mode="" Description="Discord channel ID for meal plan notifications (optional)" Type="Variable" Display="always" Required="false" Mask="false"></Config>
  <Config Name="Discord Test Channel ID" Target="DISCORD_TEST_CHANNEL_ID" Default="" Mode="" Description="Discord channel ID for test messages - used by Settings UI (optional)" Type="Variable" Display="always" Required="false" Mask="false"></Config>
</Container>
